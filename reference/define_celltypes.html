<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Define new cell types based on the existing cell types
  (categories) under a selected column (e.g. base on marker combinations
  under "Phenotype" column). This function will create a new column to store
  the new cell types.'><title>define_celltypes — define_celltypes • SPIAT</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="define_celltypes — define_celltypes"><meta property="og:description" content='Define new cell types based on the existing cell types
  (categories) under a selected column (e.g. base on marker combinations
  under "Phenotype" column). This function will create a new column to store
  the new cell types.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SPIAT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction.html">Overview of the SPIAT package</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/trigosteam/SPIAT/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>define_celltypes</h1>
      <small class="dont-index">Source: <a href="https://github.com/trigosteam/SPIAT/blob/HEAD/R/define_celltypes.R" class="external-link"><code>R/define_celltypes.R</code></a></small>
      <div class="d-none name"><code>define_celltypes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Define new cell types based on the existing cell types
  (categories) under a selected column (e.g. base on marker combinations
  under "Phenotype" column). This function will create a new column to store
  the new cell types.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">define_celltypes</span><span class="op">(</span></span>
<span>  <span class="va">spe_object</span>,</span>
<span>  categories <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  category_colname <span class="op">=</span> <span class="st">"Phenotype"</span>,</span>
<span>  names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_colname <span class="op">=</span> <span class="st">"Cell.Type"</span>,</span>
<span>  print_names <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>spe_object</dt>
<dd><p>SpatialExperiment object in the form of the output of
<code><a href="format_image_to_spe.html">format_image_to_spe</a></code>.</p></dd>


<dt>categories</dt>
<dd><p>Vector. Names of the old cell types to be defined; if NULL,
the function will use predefined categories and names</p></dd>


<dt>category_colname</dt>
<dd><p>(Phenotype) String specifying the name of the column
having the categories to be defined, by default "Phenotype".</p></dd>


<dt>names</dt>
<dd><p>Vector of new names assigned to the selected categories; if
NULL, the function will use predefined categories and names. Should be of
the same length of `categories`.</p></dd>


<dt>new_colname</dt>
<dd><p>(Optional) String specifying the name of the column to be
added, by default "Cell.Type".</p></dd>


<dt>print_names</dt>
<dd><p>(Optional) Boolean if the user wants the original and new
names printed. Default is FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An new SPE object is returned</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Users need to specify the names of the old cell categories and under
  which column the old cell categories exist. Then the users specify the
  names of the new cell types and the name of the new column to store the new
  cell types. Any cell categories that are not specified in `categories` arg
  but present in the image will be defined as "Undefined" in the new column.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># the selected column is:</span></span></span>
<span class="r-in"><span><span class="va">category_colname</span> <span class="op">=</span> <span class="st">"Phenotype"</span></span></span>
<span class="r-in"><span><span class="co"># define the following marker combinations:</span></span></span>
<span class="r-in"><span><span class="va">categories</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tumour_marker"</span>, <span class="st">"Immune_marker1,Immune_marker2"</span>, </span></span>
<span class="r-in"><span><span class="st">"Immune_marker1,Immune_marker3"</span>,</span></span>
<span class="r-in"><span><span class="st">"Immune_marker1,Immune_marker2,Immune_marker4"</span>, <span class="st">"OTHER"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># the new defined cell names:</span></span></span>
<span class="r-in"><span><span class="va">names</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tumour"</span>, <span class="st">"Immune1"</span>, <span class="st">"Immune2"</span>,<span class="st">"Immune3"</span>, <span class="st">"Others"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># the new names are stored under this column:</span></span></span>
<span class="r-in"><span><span class="va">new_colname</span> <span class="op">&lt;-</span> <span class="st">"Cell.Type"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">defined_spe</span> <span class="op">&lt;-</span> <span class="fu">define_celltypes</span><span class="op">(</span><span class="fu">SPIAT</span><span class="fu">::</span><span class="va"><a href="simulated_image.html">simulated_image</a></span>, </span></span>
<span class="r-in"><span>categories <span class="op">=</span> <span class="va">categories</span>, category_colname <span class="op">=</span> <span class="va">category_colname</span>, names <span class="op">=</span> <span class="va">names</span>, </span></span>
<span class="r-in"><span>new_colname <span class="op">=</span> <span class="va">new_colname</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Anna Trigos, Yuzhou Feng, Tianpei Yang, Mabel Li, John Zhu, Volkan Ozcoban, Maria Doyle.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

